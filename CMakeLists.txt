cmake_minimum_required(VERSION 3.5)
project(tinyWS)

set(CMAKE_CXX_STANDARD 11)

find_package(Threads REQUIRED)

add_executable(tinyWS_thread multiThread/main.cpp multiThread/net/Epoll.cpp multiThread/net/Epoll.h multiThread/net/EventLoop.cpp multiThread/net/EventLoop.h multiThread/net/Channel.cpp multiThread/net/Channel.h multiThread/base/noncopyable.h multiThread/base/Thread.cpp multiThread/base/Thread.h multiThread/base/ThreadPool.cpp multiThread/base/ThreadPool.h multiThread/base/MutexLock.h multiThread/base/Condition.h multiThread/net/Timer.cpp multiThread/net/Timer.h multiThread/net/TimerQueue.cpp multiThread/net/TimerQueue.h multiThread/net/EventLoopThread.cpp multiThread/net/EventLoopThread.h multiThread/net/EventLoopThreadPool.cpp multiThread/net/EventLoopThreadPool.h multiThread/base/Singleton.h multiThread/net/TimerId.h multiThread/net/Acceptor.cpp multiThread/net/Acceptor.h multiThread/net/InternetAddress.cpp multiThread/net/InternetAddress.h multiThread/net/Socket.cpp multiThread/net/Socket.h multiThread/net/TcpServer.cpp multiThread/net/TcpServer.h multiThread/net/TcpConnection.cpp multiThread/net/TcpConnection.h multiThread/net/Buffer.cpp multiThread/net/Buffer.h multiThread/net/CallBack.h multiThread/http/HttpServer.cpp multiThread/http/HttpServer.h multiThread/http/HttpRequest.cpp multiThread/http/HttpRequest.h multiThread/http/HttpResponse.cpp multiThread/http/HttpResponse.h multiThread/http/HttpContext.cpp multiThread/http/HttpContext.h multiThread/base/BlockingQueue.h multiThread/base/BoundedBlockingQueue.h multiThread/base/Atomic.h multiThread/base/Logger.cpp multiThread/base/Logger.h)

add_executable(tinyWS_process1 multiProcess/main.cpp multiProcess/net/Process.cpp multiProcess/net/Process.h multiProcess/base/noncopyable.h multiProcess/net/ProcessPool.cpp multiProcess/net/ProcessPool.h multiProcess/net/EventLoop.cpp multiProcess/net/EventLoop.h multiProcess/net/Epoll.cpp multiProcess/net/Epoll.h multiProcess/net/Channel.cpp multiProcess/net/Channel.h multiProcess/net/Timer.cpp multiProcess/net/Timer.h multiProcess/net/TimerId.h multiProcess/net/TimerQueue.cpp multiProcess/net/TimerQueue.h multiProcess/net/type.h multiProcess/net/Acceptor.cpp multiProcess/net/Acceptor.h multiProcess/net/InternetAddress.cpp multiProcess/net/InternetAddress.h multiProcess/net/Socket.cpp multiProcess/net/Socket.h multiProcess/net/Buffer.cpp multiProcess/net/Buffer.h multiProcess/net/TcpConnection.cpp multiProcess/net/TcpConnection.h multiProcess/net/TcpServer.cpp multiProcess/net/TcpServer.h multiProcess/net/SocketPair.cpp multiProcess/net/SocketPair.h multiProcess/http/HttpContext.cpp multiProcess/http/HttpContext.h multiProcess/http/HttpRequest.cpp multiProcess/http/HttpRequest.h multiProcess/http/HttpResponse.cpp multiProcess/http/HttpResponse.h multiProcess/http/HttpServer.cpp multiProcess/http/HttpServer.h multiProcess/base/Signal.h multiProcess/net/status.cpp multiProcess/net/status.h)

add_executable(tinyWS_process2 multiProcess2/main.cpp multiProcess2/base/noncopyable.h multiProcess2/net/ProcessPool.cpp multiProcess2/net/ProcessPool.h multiProcess2/net/EventLoop.cpp multiProcess2/net/EventLoop.h multiProcess2/net/Epoll.cpp multiProcess2/net/Epoll.h multiProcess2/net/Channel.cpp multiProcess2/net/Channel.h multiProcess2/net/Timer.cpp multiProcess2/net/Timer.h multiProcess2/net/TimerId.h multiProcess2/net/TimerQueue.cpp multiProcess2/net/TimerQueue.h multiProcess2/net/type.h multiProcess2/net/Acceptor.cpp multiProcess2/net/Acceptor.h multiProcess2/net/InternetAddress.cpp multiProcess2/net/InternetAddress.h multiProcess2/net/Socket.cpp multiProcess2/net/Socket.h multiProcess2/net/Buffer.cpp multiProcess2/net/Buffer.h multiProcess2/net/TcpConnection.cpp multiProcess2/net/TcpConnection.h multiProcess2/net/TcpServer.cpp multiProcess2/net/TcpServer.h multiProcess2/http/HttpContext.cpp multiProcess2/http/HttpContext.h multiProcess2/http/HttpRequest.cpp multiProcess2/http/HttpRequest.h multiProcess2/http/HttpResponse.cpp multiProcess2/http/HttpResponse.h multiProcess2/http/HttpServer.cpp multiProcess2/http/HttpServer.h multiProcess2/base/Signal.h multiProcess2/net/status.cpp multiProcess2/net/status.h)

target_link_libraries(tinyWS_thread ${CMAKE_THREAD_LIBS_INIT})
